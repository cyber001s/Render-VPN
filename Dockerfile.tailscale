# Use the Render example approach: run Tailscale userspace client
FROM alpine:3.18

RUN apk add --no-cache curl bash iproute2

# Install Tailscale (static binary, latest stable)
RUN curl -fsSL https://pkgs.tailscale.com/stable/tailscale_1.64.0_amd64.tgz \
    | tar xz -C /usr/local/bin --strip-components=1

COPY entrypoint-tailscale.sh /entrypoint-tailscale.sh
RUN chmod +x /entrypoint-tailscale.sh

EXPOSE 80
CMD ["/entrypoint-tailscale.sh"]

